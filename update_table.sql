insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1086,1060,'Daftar',NULL,'panelbackend/customer',1,'closed',NULL);
update PUBLIC_SYS_MENU set PARENT_ID = 1060 where MENU_ID = 1077;
update PUBLIC_SYS_MENU set PARENT_ID = 1060 where MENU_ID = 1078;
update PUBLIC_SYS_MENU set SORT = 1 where MENU_ID = 1086;


update PUBLIC_SYS_MENU set PARENT_ID = 864 where MENU_ID = 1079;
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1088,864,'Daftar',NULL,'panelbackend/proyek',1,'closed',1);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1089,NULL,'Mon. Kontrak OM',NULL,NULL,1,'closed',4);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1090,NULL,'Mon. Kontrak Proyek',NULL,NULL,1,'closed',4);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1091,1089,'Potensial Pekerjaan',NULL,'panelbackend/opportunities',1,'closed',1);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1092,1089,'Probing',NULL,'#',1,'closed',2);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1093,1089,'Proposal',NULL,'#',1,'closed',3);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1094,1089,'Negosiasi',NULL,'#',1,'closed',4);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1095,1089,'Kontrak',NULL,'#',1,'closed',5);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1096,1090,'Probing',NULL,'#',1,'closed',2);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1097,1090,'Proposal',NULL,'#',1,'closed',3);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1098,1090,'Negosiasi',NULL,'#',1,'closed',4);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1099,1090,'Eksekusi',NULL,'#',1,'closed',5);


CREATE TABLE "T_PROPOSAL" 
   (	
	"ID_PROPOSAL" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
	"JENIS_NIAGA" NUMBER, 
	"HPP" NUMBER, 
	"PROPOSAL_PENAWARAN" NUMBER, 
	"STANDAR_PRODUKSI" NUMBER, 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"REF_ID" NUMBER(10,0), 
	"GPM" NUMBER(5,2), 
	"NPM" NUMBER(5,2), 
	"PAYBACK_PERIODE" VARCHAR2(100 BYTE), 
	"IRR" NUMBER(5,2), 
	"NPV" NUMBER, 
	"LAMPIRAN" VARCHAR2(500 BYTE), 
	"RAISE_DATE" DATE, 
	CONSTRAINT "T_PROPOSAL_PK" PRIMARY KEY ("ID_PROPOSAL")
	USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
	STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
	PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
	TABLESPACE "USERS"  ENABLE
	) SEGMENT CREATION IMMEDIATE 
	PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
	STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
	PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
	TABLESPACE "USERS" ;
 
CREATE SEQUENCE  "T_PROPOSAL_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

CREATE OR REPLACE TRIGGER "T_PROPOSAL_TRG" 
   before insert on "T_PROPOSAL" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_PROPOSAL" is null then 
         select T_PROPOSAL_SEQ.nextval into :NEW."ID_PROPOSAL" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_PROPOSAL_TRG" ENABLE;
 

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1093,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1093,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1093,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1093,'delete',2,1);

insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5924,1,1093);
insert into PUBLIC_SYS_GROUP_ACTION (GROUP_MENU_ID,ACTION_ID) 
values (5924,2435);
insert into PUBLIC_SYS_GROUP_ACTION (GROUP_MENU_ID,ACTION_ID) 
values (5924,2436);
insert into PUBLIC_SYS_GROUP_ACTION (GROUP_MENU_ID,ACTION_ID) 
values (5924,2437);
insert into PUBLIC_SYS_GROUP_ACTION (GROUP_MENU_ID,ACTION_ID) 
values (5924,2438);

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_proposal' where MENU_ID = 1093

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (11,5,'Menu',NULL,'panelbackend/menu',1,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (11,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (11,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (11,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (11,'delete',2,1);


--- 23-06-2020
CREATE TABLE "T_NEGOSIASI" 
   (	
	"ID_NEGO" NUMBER NOT NULL ENABLE, 
	"ID_PROPOSAL" NUMBER NOT NULL ENABLE, 
	"JUDUL_NEGO" VARCHAR2(2000 BYTE), 
	"BA_NEGO" VARCHAR2(2000 BYTE), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"JENIS_NIAGA" NUMBER(1,0), 
	"REF_ID" NUMBER, 
	"KESEPAKATAN_HARGA" NUMBER, 
	"HPP" NUMBER, 
	"LR" NUMBER, 
	"GPM" NUMBER, 
	"NPM" NUMBER,  
	 CONSTRAINT "T_NEGOSIASI_PK" PRIMARY KEY ("ID_NEGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "PROPOSAL_FK" FOREIGN KEY ("ID_PROPOSAL")
	  REFERENCES "T_PROPOSAL" ("ID_PROPOSAL") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_NEGOSIASI_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "T_NEGOSIASI_TRG" 
   before insert on "T_NEGOSIASI" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_NEGO" is null then 
         select T_NEGOSIASI_SEQ.nextval into :NEW."ID_NEGO" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_NEGOSIASI_TRG" ENABLE;
 

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_negosiasi' where MENU_ID = 1094;



insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'delete',2,1);

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_proposal_proyek' where MENU_ID = 1097;
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1097,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1097,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1097,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1097,'delete',2,1);

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_negosiasi_proyek' where MENU_ID = 1098;
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1098,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1098,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1098,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1098,'delete',2,1);

-- 24-06-2020

CREATE TABLE "T_KONTRAK" 
   (	"ID_KONTRAK" NUMBER NOT NULL ENABLE, 
	"ID_CUSTOMER" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
	"JENIS" NUMBER(*,0), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"JENIS_NIAGA" NUMBER, 
	"JENIS_RKAP" NUMBER, 
	"REF_ID" NUMBER, 
	"FILE_KONTRAK" VARCHAR2(500 BYTE), 
	"JANGKA_WAKTU" NUMBER(10,0), 
	"LINGKUP" VARCHAR2(4000 BYTE), 
	"NO_KONTRAK" VARCHAR2(500 BYTE), 
	"TGL_AKHIR" TIMESTAMP (6), 
	 CONSTRAINT "T_KONTRAK_PK" PRIMARY KEY ("ID_KONTRAK")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "CUSTOMER_FK" FOREIGN KEY ("ID_CUSTOMER")
	  REFERENCES "CUSTOMER" ("ID_CUSTOMER") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_KONTRAK_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_TRG" 
   before insert on "T_KONTRAK" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK" is null then 
         select T_KONTRAK_SEQ.nextval into :NEW."ID_KONTRAK" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_kontrak' where MENU_ID = 1095;
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1095,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1095,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1095,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1095,'delete',2,1);



CREATE TABLE "R_DOKUMENTASI" 
   (	
	"ID_DOKUMEN" NUMBER NOT NULL ENABLE, 
	"REF_ID" NUMBER NOT NULL ENABLE, 
	"REF_NAMA" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"JENIS" VARCHAR2(100 BYTE), 
	"PATH" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"NOMOR" VARCHAR2(1000 BYTE), 
	 CONSTRAINT "R_DOKUMENTASI_PK" PRIMARY KEY ("ID_DOKUMEN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
  ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "R_DOKUMENTASI_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "R_DOKUMENTASI_TRG" 
   before insert on "R_DOKUMENTASI" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_DOKUMEN" is null then 
         select R_DOKUMENTASI_SEQ.nextval into :NEW."ID_DOKUMEN" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "R_DOKUMENTASI_TRG" ENABLE;


CREATE TABLE "T_KONTRAK_HIST" 
   (	
	"ID_KONTRAK_HIST" NUMBER NOT NULL ENABLE, 
	"ID_KONTRAK" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE), 
	"NO_PIHAK1" VARCHAR2(2000 BYTE), 
	"NO_PIHAK2" VARCHAR2(2000 BYTE), 
	"TGL_KONTRAK" TIMESTAMP (6), 
	"TGL_MULAI" TIMESTAMP (6), 
	"TGL_SELESAI" TIMESTAMP (6), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"SURAT_PERMOHONAN" VARCHAR2(500 BYTE), 
	"NOTULEN_RAPAT" VARCHAR2(500 BYTE), 
	"PENAWARAN_HARGA" VARCHAR2(500 BYTE), 
	"BA_NEGO" VARCHAR2(500 BYTE), 
	"HPP" NUMBER, 
	"HPP_LAMPIRAN" VARCHAR2(500 BYTE), 
	"AMANDEMEN" VARCHAR2(500 BYTE), 
	 CONSTRAINT "T_KONTRAK_HIST_PK" PRIMARY KEY ("ID_KONTRAK_HIST")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "KONTRAK_FK" FOREIGN KEY ("ID_KONTRAK")
	  REFERENCES "T_KONTRAK" ("ID_KONTRAK") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 
  CREATE INDEX "KONTRAK_FK" ON "T_KONTRAK_HIST" ("ID_KONTRAK") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
  CREATE SEQUENCE  "T_KONTRAK_HIST_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_HIST_TRG" 
   before insert on "T_KONTRAK_HIST" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK_HIST" is null then 
         select T_KONTRAK_HIST_SEQ.nextval into :NEW."ID_KONTRAK_HIST" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_HIST_TRG" ENABLE;


insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (12,5,'Dokumentasi',NULL,'panelbackend/dokumentasi',0,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (12,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (12,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (12,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (12,'delete',2,1);
		
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (13,5,'History Kontrak',NULL,'panelbackend/t_kontrak_hist',0,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (13,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (13,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (13,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (13,'delete',2,1);


CREATE TABLE "T_KONTRAK_NILAI" 
   (	
	"ID_KONTRAK_NILAI" NUMBER NOT NULL ENABLE, 
	"ID_KONTRAK" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE), 
	"ITEM_KONTRAK" VARCHAR2(2000 BYTE), 
	"JML_PERSONIL" NUMBER, 
	"HARGA_PERSONIL" NUMBER, 
	"SATUAN" VARCHAR2(100 BYTE), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"HARGA_KONTRAK" NUMBER, 
	"LAMPIRAN" VARCHAR2(2000 BYTE),
	 CONSTRAINT "T_KONTRAK_NILAI_PK" PRIMARY KEY ("ID_KONTRAK_NILAI")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "KONTRAK_KONTRAK_NILAI_FK" FOREIGN KEY ("ID_KONTRAK")
	  REFERENCES "T_KONTRAK" ("ID_KONTRAK") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
  CREATE SEQUENCE  "T_KONTRAK_NILAI_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_NILAI_TRG" 
   before insert on "T_KONTRAK_NILAI" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK_NILAI" is null then 
         select T_KONTRAK_NILAI_SEQ.nextval into :NEW."ID_KONTRAK_NILAI" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_NILAI_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (14,5,'Nilai Kontrak',NULL,'panelbackend/t_kontrak_nilai',0,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (14,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (14,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (14,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (14,'delete',2,1);
		
CREATE TABLE "T_KONTRAK_ISU" 
   (	
	"ID_KONTRAK_ISU" NUMBER NOT NULL ENABLE, 
	"ID_KONTRAK" NUMBER NOT NULL ENABLE, 
	"TANGGAL" TIMESTAMP (6), 
	"NAMA" VARCHAR2(2000 BYTE), 
	"TINDAK_LANJUT" VARCHAR2(2000 BYTE), 
	"TARGET" TIMESTAMP (6), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	 CONSTRAINT "T_KONTRAK_ISU_PK" PRIMARY KEY ("ID_KONTRAK_ISU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "KONTRAK_KONTRAK_ISU_FK" FOREIGN KEY ("ID_KONTRAK")
	  REFERENCES "T_KONTRAK" ("ID_KONTRAK") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
  CREATE SEQUENCE  "T_KONTRAK_ISU_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_ISU_TRG" 
   before insert on "T_KONTRAK_ISU" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK_ISU" is null then 
         select T_KONTRAK_ISU_SEQ.nextval into :NEW."ID_KONTRAK_ISU" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_ISU_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (15,5,'Isu Kontrak',NULL,'panelbackend/t_kontrak_isu',0,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (15,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (15,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (15,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (15,'delete',2,1);
		
-- CREATE TABLE "T_KONTRAK_PROYEK" 
--    (	
-- 	"ID_KONTRAK_PROYEK" NUMBER NOT NULL ENABLE, 
-- 	"ID_CUSTOMER" NUMBER NOT NULL ENABLE, 
-- 	"NAMA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
-- 	"AREA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
-- 	"UNIT_KERJA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
-- 	"JENIS" INTEGER, 
-- 	"JENIS_RKAP" INTEGER, 
-- 	"DESKRIPSI" VARCHAR2(4000 BYTE), 
-- 	"STATUS" NUMBER, 
-- 	"STATUS_FISIK" NUMBER, 
-- 	"STATUS_NIAGA" NUMBER, 
-- 	"STATUS_PROYEK" NUMBER, 
-- 	"TAHUN" NUMBER, 
-- 	"IH_NO" NUMBER, 
-- 	"IH_TGL" DATE, 
-- 	"INFOHARGA_NO" NUMBER, 
-- 	"INFOHARGA_TGL" DATE, 
-- 	"INFOHARGA_NILAI" NUMBER, 
-- 	"SEPAKATHARGA_NO" NUMBER, 
-- 	"SEPAKATHARGA_TGL" DATE, 
-- 	"SEPAKATHARGA_NILAI" NUMBER, 
-- 	"RAB_RENDAL_TGL" DATE, 
-- 	"RAB_RENDAL_NILAI" NUMBER, 
-- 	"RAB_KOMERSIAL" NUMBER, 
-- 	"PRICING" NUMBER, 
-- 	"ANALISA_LR_NPM" NUMBER, 
-- 	"ANALISA_LR_GPM" NUMBER, 
-- 	"SEPAKATHARGA_NO" NUMBER, 
-- 	"SEPAKATHARGA_TGL" DATE, 
-- 	"SEPAKATHARGA_NILAI" NUMBER, 
-- 	 CONSTRAINT "T_KONTRAK_PROYEK_PK" PRIMARY KEY ("ID_KONTRAK_PROYEK")
--   USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
--   STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
--   PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
--   TABLESPACE "USERS"  ENABLE, 
-- 	 CONSTRAINT "CUSTOMER_KONTRAK_FK" FOREIGN KEY ("ID_CUSTOMER")
-- 	  REFERENCES "CUSTOMER" ("ID_CUSTOMER") ON DELETE CASCADE ENABLE
--    ) SEGMENT CREATION IMMEDIATE 
--   PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
--   STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
--   PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
--   TABLESPACE "USERS" ;
 

--  CREATE SEQUENCE  "T_KONTRAK_PROYEK_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

--   CREATE OR REPLACE TRIGGER "T_KONTRAK_PROYEK_TRG" 
--    before insert on "T_KONTRAK_PROYEK" 
--    for each row 
-- begin  
--    if inserting then 
--       if :NEW."ID_KONTRAK_PROYEK" is null then 
--          select T_KONTRAK_PROYEK_SEQ.nextval into :NEW."ID_KONTRAK_PROYEK" from dual; 
--       end if; 
--    end if; 
-- end;
-- /
-- ALTER TRIGGER "T_KONTRAK_PROYEK_TRG" ENABLE;

CREATE TABLE "T_KONTRAK_PROYEK" 
   (	
	"ID_KONTRAK_PROYEK" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
	"KONTRAK_NO" VARCHAR2(2000 BYTE), 
	"KONTRAK_TGL" DATE, 
	"KONTRAK_NILAI" NUMBER, 
	"DURASI" NUMBER, 
	"RENCANA_TGL_MULAI" DATE, 
	"RENCANA_TGL_SELESAI" DATE, 
	"TGL_MULAI" DATE, 
	"TGL_SELESAI" DATE, 
	"TIPE_PEKERJAAN" VARCHAR2(100 BYTE), 
	"MANAGER" VARCHAR2(100 BYTE), 
	"JML_PERSONIL" NUMBER, 
	"NO_PRK" VARCHAR2(100 BYTE), 
	"TGL_PRK" DATE, 
	"PROGRES_FISIK" NUMBER, 
	"PROGRES_LAPORAN" NUMBER, 
	"KENDALA" VARCHAR2(4000 BYTE), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"REF_ID" NUMBER(20,0), 
	 CONSTRAINT "T_KONTRAK_PROYEK_PK" PRIMARY KEY ("ID_KONTRAK_PROYEK")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

 CREATE SEQUENCE  "T_KONTRAK_PROYEK_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_PROYEK_TRG" 
   before insert on "T_KONTRAK_PROYEK" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK_PROYEK" is null then 
         select T_KONTRAK_PROYEK_SEQ.nextval into :NEW."ID_KONTRAK_PROYEK" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_PROYEK_TRG" ENABLE;

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_kontrak_proyek' where MENU_ID = 1099
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1099,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1099,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1099,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1099,'delete',2,1);

update PUBLIC_SYS_MENU set URL = 'panelbackend/proyek' where MENU_ID = 1097;
update PUBLIC_SYS_MENU set VISIBLE = 0 where MENU_ID = 1088;
update PUBLIC_SYS_MENU set VISIBLE = 0 where MENU_ID = 864;


CREATE TABLE "T_KONTRAK_PEKERJAAN" 
   (	
	"ID_KONTRAK_PEKERJAAN" NUMBER NOT NULL ENABLE, 
	"ID_KONTRAK_PROYEK" NUMBER NOT NULL ENABLE, 
	"NAMA" VARCHAR2(2000 BYTE), 
	"PERUSAHAAN" VARCHAR2(2000 BYTE), 
	"NILAI" NUMBER, 
	"TGL" TIMESTAMP (6), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	 CONSTRAINT "T_KONTRAK_PEKERJAAN_PK" PRIMARY KEY ("ID_KONTRAK_PEKERJAAN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "KONTRAK_KONTRAK_PEKERJAAN_FK" FOREIGN KEY ("ID_KONTRAK_PROYEK")
	  REFERENCES "T_KONTRAK_PROYEK" ("ID_KONTRAK_PROYEK") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
  CREATE SEQUENCE  "T_KONTRAK_PEKERJAAN_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_KONTRAK_PEKERJAAN_TRG" 
   before insert on "T_KONTRAK_PEKERJAAN" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_KONTRAK_PEKERJAAN" is null then 
         select T_KONTRAK_PEKERJAAN_SEQ.nextval into :NEW."ID_KONTRAK_PEKERJAAN" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_KONTRAK_PEKERJAAN_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (16,5,'Kontrak Pekerjaan',NULL,'panelbackend/t_kontrak_pekerjaan',0,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (16,'index','x',1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (16,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (16,'edit',2,1);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (972,'profile',2,1);
		
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (17,null,'Mon. Settlement',NULL,null,1,'closed',5);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (18,17,'Settl. OM',NULL,null,1,'closed',1);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (19,17,'Settl. Proyek',NULL,null,1,'closed',2);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (20,18,'Realisasi Pendapatan',null,'panelbackend/proto/mon_settlement',1,'closed',1);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (21,18,'Mon. Tagihan Bruto',null,'panelbackend/proto/mon_settlement_bruto',1,'closed',2);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (22,18,'Nilai SLA',null,'panelbackend/proto/mon_settlement_sla',1,'closed',3);


insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (23,1053,'Pendapatan Per Unit',null,'panelbackend/proto/lap_unit',1,'closed',2);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (24,1053,'Biaya',null,'panelbackend/proto/lap_biaya',1,'closed',3);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (25,1053,'Labar/Rugi',null,'panelbackend/proto/lap_laba',1,'closed',4);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (21,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (22,'index',NULL,1);


update PUBLIC_SYS_MENU set sort = 5 where menu_id = 1090;
update PUBLIC_SYS_MENU set sort = 6 where menu_id = 17;
update PUBLIC_SYS_MENU set sort = 7 where menu_id = 1075;
update PUBLIC_SYS_MENU set sort = 8 where menu_id = 1060;
update PUBLIC_SYS_MENU set sort = 9 where menu_id = 1053;

update PUBLIC_SYS_MENU set URL = '#' where menu_id = 19;
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (26,19,'Realisasi Pendapatan',null,'panelbackend/mon_settlement',1,'closed',1);
insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (27,19,'Mon. Penyelesaian',null,'panelbackend/proto/mon_settlement_proyek',1,'closed',2);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (26,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (27,'index',NULL,1);



-- 09-07-2020

CREATE TABLE "T_WO_PROSPEK" 
   (	
	"ID_WO" NUMBER NOT NULL ENABLE, 
	"ID_CUSTOMER" NUMBER, 
	"NAMA" VARCHAR2(2000 BYTE), 
	"JENIS" NUMBER(*,0), 
	"JENIS_RKAP" NUMBER(*,0), 
	"DESKRIPSI" VARCHAR2(4000 BYTE), 
	"JENIS_NIAGA" NUMBER, 
	"TANGGAL" DATE, 
	"PIC_ID" VARCHAR2(10 BYTE), 
	"STATUS" NUMBER, 
	"NILAI" NUMBER, 
	"KODE_WO" VARCHAR2(20 BYTE), 
	 CONSTRAINT "T_WO_PROSPEK_PK" PRIMARY KEY ("ID_WO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "CUSTOMER_WO_FK" FOREIGN KEY ("ID_CUSTOMER")
	  REFERENCES "CUSTOMER" ("ID_CUSTOMER") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

 CREATE SEQUENCE  "T_WO_PROSPEK_SEQ"  MINVALUE 2 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "T_WO_PROSPEK_TRG" 
   before insert on "T_WO_PROSPEK" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_WO" is null then 
         select T_WO_PROSPEK_SEQ.nextval into :NEW."ID_WO" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_WO_PROSPEK_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1094,5,'Menu',NULL,'panelbackend/t_wo_prospek',1,'closed',5);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1094,'delete',2,1);


CREATE TABLE "R_HISTORY" 
   (	
	"ID" NUMBER NOT NULL ENABLE, 
	"REF" VARCHAR2(20 BYTE), 
	"REF_ID" NUMBER, 
	"TGL" TIMESTAMP (6), 
	"DESKRIPSI" VARCHAR2(1000 BYTE), 
	"OTHER_ATTR" VARCHAR2(4000 BYTE), 
	"STATUS" NUMBER, 
	"USER" VARCHAR2(1000 BYTE), 
	"LAMPIRAN" VARCHAR2(1000 BYTE),
	CONSTRAINT "R_HISTORY_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE)
   SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

 CREATE SEQUENCE  "R_HISTORY_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;

  CREATE OR REPLACE TRIGGER "R_HISTORY_TRG" 
   before insert on "R_HISTORY" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID" is null then 
         select R_HISTORY_SEQ.nextval into :NEW."ID" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "R_HISTORY_TRG" ENABLE;


---- update 6 agustus 2020


  CREATE TABLE "T_FILES" 
   (	"ID_T_FILES" NUMBER NOT NULL ENABLE, 
	"FILE_NAME" VARCHAR2(1000 BYTE), 
	"FILE_TYPE" VARCHAR2(200 BYTE), 
	"FILE_SIZE" NUMBER, 
	"CLIENT_NAME" VARCHAR2(1000 BYTE), 
	"ID_REF" NUMBER, 
	"NAMA_REF" VARCHAR2(200 BYTE), 
	"JENIS_FILE" VARCHAR2(100 BYTE), 
	"CREATED_DATE" TIMESTAMP (6), 
	"MODIFIED_DATE" TIMESTAMP (6), 
	"CREATED_BY" NUMBER, 
	"MODIFIED_BY" NUMBER, 
	"CREATED_BY_DESC" VARCHAR2(200 BYTE), 
	"MODIFIED_BY_DESC" VARCHAR2(200 BYTE), 
	 CONSTRAINT "T_FILES_PK" PRIMARY KEY ("ID_T_FILES")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
  ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_FILES_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "T_FILES_TRG" 
   before insert on "T_FILES" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID_T_FILES" is null then 
         select T_FILES_SEQ.nextval into :NEW."ID_T_FILES" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_FILES_TRG" ENABLE;
 
-- delete menu
delete from PUBLIC_SYS_ACTION where menu_id = 1095 and name = 'add';
delete from PUBLIC_SYS_ACTION where menu_id = 1093 and name = 'add';
delete from PUBLIC_SYS_ACTION where menu_id = 1094 and name = 'add';
delete from PUBLIC_SYS_ACTION where menu_id = 1097 and name = 'add';
delete from PUBLIC_SYS_ACTION where menu_id = 1098 and name = 'add';


DELETE FROM T_WO_PROSPEK;
DELETE FROM T_PROPOSAL;
DELETE FROM T_NEGOSIASI;
DELETE FROM T_KONTRAK_PROYEK;
DELETE FROM T_KONTRAK_PEKERJAAN;
DELETE FROM T_KONTRAK_NILAI;
DELETE FROM T_KONTRAK_ISU;
DELETE FROM T_KONTRAK_HIST;
DELETE FROM T_KONTRAK;
DELETE FROM T_FILES;
DELETE FROM R_DOKUMENTASI;
DELETE FROM R_HISTORY;


---- update 15 agustus 2020


  CREATE TABLE "T_SETTLEMENT" 
   (	
	"ID" NUMBER NOT NULL ENABLE, 
	"PERIODE" VARCHAR2(7 BYTE), 
	"UNIT_ID" VARCHAR2(3 BYTE), 
	"JENIS" NUMBER(*,0), 
	"STATUS" NUMBER(*,0), 
	"NILAI_KONTRAK" NUMBER, 
	"NILAI_TAGIHAN" NUMBER, 
	"NILAI_TERBAYAR" NUMBER, 
	"PERSEN_SLA" NUMBER, 
	"URAIAN" VARCHAR2(4000 BYTE), 
	"TINDAK_LANJUT" VARCHAR2(4000 BYTE), 
	"CREATED_DATE" TIMESTAMP (6), 
	"MODIFIED_DATE" TIMESTAMP (6), 
	"CREATED_BY" NUMBER, 
	"MODIFIED_BY" NUMBER,
	 CONSTRAINT "T_SETTLEMENT_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
  ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_SETTLEMENT_TRG"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "T_SETTLEMENT_TRG" 
   before insert on "T_SETTLEMENT" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID" is null then 
         select T_FILES_SEQ.nextval into :NEW."ID" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_SETTLEMENT_TRG" ENABLE;


--panelbackend
update PUBLIC_SYS_MENU set URL = 'panelbackend/mon_settlement' where menu_id = 20;

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'nilai',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'nilai_update',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'history',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'bruto',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'mon_sla',2,1);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (26,'nilai',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (26,'nilai_update',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (26,'history',2,1);

-- sept 2020 untuk monitoring bruto
ALTER TABLE mt_unit
  ADD table_type integer NULL;

-- tech support
update mt_unit set table_type = 1 where table_code = 'AR';
update mt_unit set table_type = 1 where table_code = 'TY';
update mt_unit set table_type = 1 where table_code = 'CNG';
update mt_unit set table_type = 1 where table_code = 'ID';
update mt_unit set table_type = 1 where table_code = 'RB';
update mt_unit set table_type = 1 where table_code = 'TA';
update mt_unit set table_type = 1 where table_code = 'PC';
update mt_unit set table_type = 1 where table_code = 'PT';
update mt_unit set table_type = 1 where table_code = 'PP';
update mt_unit set table_type = 1 where table_code = 'KT';
-- OM PLN Grup
update mt_unit set table_type = 2 where table_code = 'DR';
update mt_unit set table_type = 2 where table_code = 'BK';
update mt_unit set table_type = 2 where table_code = 'BT';
update mt_unit set table_type = 2 where table_code = 'UMK';
update mt_unit set table_type = 2 where table_code = 'MK';
update mt_unit set table_type = 2 where table_code = 'TJ';
update mt_unit set table_type = 2 where table_code = 'BW';
update mt_unit set table_type = 2 where table_code = 'UPT';
update mt_unit set table_type = 2 where table_code = 'TP';
update mt_unit set table_type = 2 where table_code = 'KR';
update mt_unit set table_type = 2 where table_code = 'TI';
update mt_unit set table_type = 2 where table_code = 'RO';
update mt_unit set table_type = 2 where table_code = 'BL';
update mt_unit set table_type = 2 where table_code = 'AM';
update mt_unit set table_type = 2 where table_code = 'AM';
-- IPP
update mt_unit set table_type = 3 where table_code = 'AS';
update mt_unit set table_type = 3 where table_code = 'BJ';
update mt_unit set table_type = 3 where table_code = 'LB';

update PUBLIC_SYS_MENU set URL = 'panelbackend/laporan_om' where menu_id = 23;
update PUBLIC_SYS_MENU set URL = 'panelbackend/laporan_om/lap_lr' where menu_id = 25;
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'lap_unit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'lap_lr',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'index',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'biaya',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'index_cetak',2,1);

ALTER TABLE T_SETTLEMENT
  ADD NILAI_BIAYA NUMBER(22)  default 0;

ALTER TABLE T_WO_PROSPEK
  ADD USER_STATUS VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  WORK_ORDER_TYPE VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  MAINTENANCE_TYPE VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  WORK_GROUP VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  ACCOUNT_CODE VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  WOPREFIX VARCHAR2(100 BYTE);
ALTER TABLE T_WO_PROSPEK
  ADD  PROJECTNUMBER VARCHAR2(100 BYTE); 

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (27,'detail',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (27,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (27,'update_history',2,1);


CREATE TABLE "T_FINISHING_PROYEK" 
   (	
	"ID" NUMBER NOT NULL ENABLE, 
	"PROYEK_ID" NUMBER, 
	"JENIS" VARCHAR2(300 BYTE), 
	"NOMOR" VARCHAR2(300 BYTE), 
	"TANGGAL" DATE, 
	"LAMPIRAN" VARCHAR2(2000 BYTE), 
	"CREATED_DATE" TIMESTAMP (6), 
	"MODIFIED_DATE" TIMESTAMP (6), 
	"CREATED_BY" NUMBER, 
	"MODIFIED_BY" NUMBER,
	 CONSTRAINT "T_FINISHING_PROYEK_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
  ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_FINISHING_PROYEK_TRG"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "T_FINISHING_PROYEK_TRG" 
   before insert on "T_FINISHING_PROYEK" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID" is null then 
         select T_FILES_SEQ.nextval into :NEW."ID" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_FINISHING_PROYEK_TRG" ENABLE;

----
CREATE TABLE "T_FINISHING_LOG" 
   (	
	"ID" NUMBER NOT NULL ENABLE, 
	"PROYEK_ID" NUMBER, 
	"STATUS_FISIK" NUMBER,
	"STATUS_NIAGA" NUMBER,
	"STATUS_PROYEK" NUMBER,
	"TANGGAL_DIBAYAR" DATE, 
	"KETERANGAN" VARCHAR2(2000 BYTE), 
	"CREATED_DATE" TIMESTAMP (6), 
	"MODIFIED_DATE" TIMESTAMP (6), 
	"CREATED_BY" NUMBER, 
	"MODIFIED_BY" NUMBER,
	 CONSTRAINT "T_FINISHING_LOG_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
  ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
 CREATE SEQUENCE  "T_FINISHING_LOG_TRG"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;


  CREATE OR REPLACE TRIGGER "T_FINISHING_LOG_TRG" 
   before insert on "T_FINISHING_LOG" 
   for each row 
begin  
   if inserting then 
      if :NEW."ID" is null then 
         select T_FILES_SEQ.nextval into :NEW."ID" from dual; 
      end if; 
   end if; 
end;
/
ALTER TRIGGER "T_FINISHING_LOG_TRG" ENABLE;

--tanto

ALTER TABLE T_WO_PROSPEK
  ADD  ORIGINATOR VARCHAR2(100 BYTE); 
ALTER TABLE PROYEK
  ADD  REF_ID INTEGER; 

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1100,1090,'Proyek',NULL,'panelbackend/proyek',1,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1100,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1100,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1100,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1100,'delete',2,1);



update PUBLIC_SYS_MENU set URL = 'panelbackend/proyek' where MENU_ID = 1099
update PUBLIC_SYS_MENU set url = 'panelbackend/mon_settlement_proyek' where menu_id = 27;
update PUBLIC_SYS_MENU set url = 'panelbackend/laporan_om/biaya' where menu_id = 24;
update PUBLIC_SYS_MENU set VISIBLE = 0 where menu_id = 1100;


CREATE TABLE "T_KONTRAK_PROYEK_EXE" 
   (	"ID" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6), 
	"CREATED_BY" NUMBER(20,0), 
	"UPDATED_BY" NUMBER(20,0), 
	"KONTRAKPROYEK_ID" NUMBER, 
	"KONTRAK_NOMOR" VARCHAR2(255 BYTE), 
	"KONTRAK_TGL" DATE, 
	"KONTRAK_NILAI" FLOAT(20), 
	"DURASI" VARCHAR2(255 BYTE), 
	"RENCANA_MULAI" DATE, 
	"RENCANA_SELESAI" DATE, 
	"AKTUAL_MULAI" DATE, 
	"AKTUAL_SELESAI" DATE, 
	"TIPE_PEKERJAAN" VARCHAR2(255 BYTE), 
	"MANAJER_PROYEK" VARCHAR2(255 BYTE), 
	"JUMLAH_PERSONIL" VARCHAR2(255 BYTE), 
	"LAPORAN" VARCHAR2(255 BYTE), 
	"NO_PRK" VARCHAR2(255 BYTE), 
	"TGL_BUKA_PRK" DATE, 
	"KENDALA_TINDAK_LANJUT" VARCHAR2(2000 BYTE), 
	"PROGRESS_FISIK" VARCHAR2(255 BYTE), 
	 CONSTRAINT "SYS_C0089952" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

  
  CREATE TABLE "T_KONTRAK_PROYEK_FINISHING1" 
   (	"ID" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"CREATED_AT" TIMESTAMP (6), 
	"CREATED_BY" NUMBER(20,0), 
	"LAMPIRAN_FINISHING" VARCHAR2(255 BYTE), 
	"JENIS_FINISHING" VARCHAR2(255 BYTE), 
	"NOMOR_FINISHING" VARCHAR2(255 BYTE), 
	"TANGGAL_FINISHING" DATE, 
	"KONTRAKPROYEK_ID" NUMBER(20,0), 
	 CONSTRAINT "SYS_C0089949" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "SYS_C0089948" CHECK ("ID" IS NOT NULL) ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

  CREATE TABLE "T_KONTRAK_PROYEK_FINISHING2" 
   (	"ID" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"TANGGAL_DIBAYAR" DATE, 
	"EVALUASI_PEKERJAAN" VARCHAR2(2000 BYTE), 
	"CREATED_AT" TIMESTAMP (6), 
	"CREATED_BY" NUMBER(20,0), 
	"UPDATED_AT" TIMESTAMP (6), 
	"UPDATED_BY" NUMBER(20,0), 
	"KONTRAKPROYEK_ID" NUMBER(20,0), 
	 CONSTRAINT "SYS_C0089951" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "SYS_C0089950" CHECK ("ID" IS NOT NULL) ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

 
  CREATE TABLE "T_KONTRAK_PROYEK_PREPARATION" 
   (	"ID" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"KONTRAKPROYEK_ID" NUMBER(20,0), 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6), 
	"CREATED_BY" NUMBER(20,0), 
	"UPDATED_BY" NUMBER(20,0), 
	"PERMINTAAN_IH_NOMOR" VARCHAR2(100 BYTE), 
	"PERMINTAAN_IH_TGL" DATE, 
	"INFORMASI_HARGA_NOMOR" VARCHAR2(100 BYTE), 
	"INFORMASI_HARGA_TGL" DATE, 
	"KESEPAKATAN_HARGA_NOMOR" VARCHAR2(100 BYTE), 
	"KESEPAKATAN_HARGA_TGL" DATE, 
	"KESEPAKATAN_HARGA_NILAI" FLOAT(20), 
	"RAB_RENDAL_TGL" DATE, 
	"RAB_RENDAL_NILAI" FLOAT(20), 
	"RAB_KOMERSIAL" FLOAT(20), 
	"PRICING" FLOAT(20), 
	"ANALISA_LR_NPM" FLOAT(20), 
	"ANALISA_LR_GPM" FLOAT(20), 
	 CONSTRAINT "SYS_C0089947" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

 

  CREATE TABLE "NIAGA_DEV"."T_KONTRAK_PROYEK_PIHAK3" 
   (	"ID" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"KONTRAKPROYEK_ID" NUMBER(20,0), 
	"NAMA_PERUSAHAAN" VARCHAR2(255 BYTE), 
	"NAMA_PEKERJAAN" VARCHAR2(255 BYTE), 
	"NILAI_PEKERJAAN" FLOAT(20), 
	"CREATED_AT" TIMESTAMP (6), 
	"CREATED_BY" NUMBER(20,0), 
	 CONSTRAINT "SYS_C0089954" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "SYS_C0089953" CHECK ("ID" IS NOT NULL) ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE( INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1101,953,'Unit',NULL,'panelbackend/mt_unit',1,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1101,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1101,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1101,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1101,'delete',2,1);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1091,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1091,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1091,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1091,'delete',2,1);

ALTER TABLE T_KONTRAK_HIST
  ADD lainlain VARCHAR2(255 BYTE) NULL;

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (15,'delete',2,1);
update PUBLIC_SYS_MENU set URL = 'panelbackend/laporan_om/lap_sla' where menu_id = 22;
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (22,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (22,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (22,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (22,'delete',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (23,'lap_sla',2,1);

-- update PUBLIC_SYS_MENU set URL = 'panelbackend/proto/mon_settlement_sla' where menu_id = 22;
update PUBLIC_SYS_MENU set URL = 'panelbackend/menu' where menu_id = 11;

ALTER TABLE T_KONTRAK_PROYEK_DETAIL
  ADD STATUS_SETTLEMENT VARCHAR2(255 BYTE) NULL;

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_proyek_kontrak' where MENU_ID = 1099
update PUBLIC_SYS_MENU set URL = 'panelbackend/t_kontrak_dokumentasi' where MENU_ID = 12

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1102,1090,'Proyek',NULL,'panelbackend/proyek',1,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1102,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1102,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1102,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1102,'delete',2,1);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (27,'detail',NULL,1);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1103,NULL,'Simulasi RAB',NULL,NULL,1,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1103,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1103,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1103,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1103,'delete',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1103,'detail',2,1);

update PUBLIC_SYS_MENU set URL = 'panelbackend/t_simulasi_rab',SORT = 7 where MENU_ID = 1103

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1104,1103,'Jasa Material',NULL,'panelbackend/t_simrab_jasa_material',0,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1104,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1104,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1104,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1104,'delete',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1104,'detail',2,1);

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1105,1103,'Tenaga Kerja',NULL,'panelbackend/t_simrab_tenaga_kerja',0,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1105,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1105,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1105,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1105,'delete',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1105,'detail',2,1);

-- 17 okt
ALTER TABLE T_WO_PROSPEK
  ADD UNIT_ID VARCHAR2(18 BYTE);

   ALTER TABLE T_KONTRAK
   ADD PRK_INTI VARCHAR2(100 BYTE);
----
CREATE TABLE "MT_BRUTO" 
     (	
    "ID" NUMBER NOT NULL ENABLE, 
    "KODE" VARCHAR2(5 BYTE), 
    "NAMA" VARCHAR2(100 BYTE),
    "KETERANGAN" VARCHAR2(2000 BYTE), 
    "CREATED_DATE" TIMESTAMP (6), 
    "MODIFIED_DATE" TIMESTAMP (6), 
    "CREATED_BY" NUMBER, 
    "MODIFIED_BY" NUMBER,
     CONSTRAINT "MT_BRUTO_PK" PRIMARY KEY ("ID")
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
    TABLESPACE "USERS"  ENABLE
    ) SEGMENT CREATION IMMEDIATE 
    PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
    STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
    PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
    TABLESPACE "USERS" ;
   
   CREATE SEQUENCE  "MT_BRUTO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2 CACHE 20 NOORDER  NOCYCLE ;
  
  
    CREATE OR REPLACE TRIGGER "MT_BRUTO_TRG" 
     before insert on "MT_BRUTO" 
     for each row 
  begin  
     if inserting then 
        if :NEW."ID" is null then 
           select MT_BRUTO_SEQ.nextval into :NEW."ID" from dual; 
        end if; 
     end if; 
  end;
  /
  ALTER TRIGGER "MT_BRUTO_TRG" ENABLE;

insert into PUBLIC_SYS_MENU (MENU_ID,PARENT_ID,LABEL,ICONCLS,URL,VISIBLE,STATE,SORT) 
values (1106,953,'Kategori Bruto',NULL,'panelbackend/mt_bruto',1,'closed',6);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1106,'index',NULL,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1106,'add',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1106,'edit',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1106,'delete',2,1);
insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (1106,'detail',2,1);

insert into mt_bruto (id,kode,nama) values (1,'KAT1','PJB GROUP');
insert into mt_bruto (id,kode,nama) values (2,'KAT2','PLN GROUP');
insert into mt_bruto (id,kode,nama) values (3,'KAT3','IPP');

delete from PUBLIC_SYS_ACTION where MENU_ID = 1099 and NAME = 'edit';
delete from PUBLIC_SYS_ACTION where MENU_ID = 1099 and NAME = 'add';


ALTER TABLE T_SETTLEMENT
  ADD NILAI_HPP NUMBER(22)  default 0;

ALTER TABLE T_KONTRAK
  ADD TGL_AWAL TIMESTAMP (6);

  -- 4 nop 2020
  CREATE TABLE "T_KONTRAK_PROYEK_DOKUMEN" (
  "ID" VARCHAR2(50 BYTE) NOT NULL ,
  "CREATED_AT" TIMESTAMP(6) ,
  "CREATED_BY" NUMBER(20) ,
  "LAMPIRAN_DOKUMEN" VARCHAR2(255 BYTE) ,
  "JENIS_DOKUMEN" VARCHAR2(255 BYTE) ,
  "KONTRAKPROYEK_ID" NUMBER(20) 
)
TABLESPACE "USERS"
LOGGING
NOCOMPRESS
PCTFREE 10
INITRANS 1
STORAGE (
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1
  MAXEXTENTS 2147483645
  BUFFER_POOL DEFAULT
)
PARALLEL 1
NOCACHE
DISABLE ROW MOVEMENT
;

-- ----------------------------
-- Primary Key structure for table T_KONTRAK_PROYEK_DOKUMEN
-- ----------------------------
ALTER TABLE "T_KONTRAK_PROYEK_DOKUMEN" ADD CONSTRAINT "SYS_C0093444" PRIMARY KEY ("ID");

-- ----------------------------
-- Checks structure for table T_KONTRAK_PROYEK_DOKUMEN
-- ----------------------------
ALTER TABLE "T_KONTRAK_PROYEK_DOKUMEN" ADD CONSTRAINT "SYS_C0093443" CHECK ("ID" IS NOT NULL) NOT DEFERRABLE INITIALLY IMMEDIATE NORELY VALIDATE;

ALTER TABLE T_KONTRAK_PROYEK_DETAIL
  ADD NO_PRK VARCHAR2(100);

insert into PUBLIC_SYS_ACTION (MENU_ID,NAME,TYPE,VISIBLE) 
values (20,'radir',2,1);

update PUBLIC_SYS_MENU set PARENT_ID = 1090 where LABEL like '%Simulasi RAB%';

insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5944,1,1091);
insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5944,1,1092);
insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5944,1,1093);
insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5944,1,1094);
insert into PUBLIC_SYS_GROUP_MENU (GROUP_MENU_ID,GROUP_ID,MENU_ID) 
values (5944,1,1095);